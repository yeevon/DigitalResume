{% load static %}
<div x-data="{ open: false }">
  <div @click="open = true" id="job-tiles">
    <i class="w-5 h-5 absolute top-2 right-2 fa-solid fa-circle-info"></i>
    <div>
      <h4>{{ job.title }}</h4>
      <h6>{{ job.role }}</h6>
      <p>{{ job.dates }}</p>
    </div>
  </div>

  <div x-show="open" 
        x-cloak id="modal" 
        x-init="$watch('open', value => {
          document.body.classList.toggle('overflow-hidden', value)
          })">
    <div 
      @click.outside="open = false">
      <button @click="open = false">
        &times;
      </button>
      <h4 class="text-center border-b mb-2">
        {{ job.role }} at
        <a href="{{job.url}}" target="_blank" class="text-blue-600 hover:underline">{{ job.title }}</a>
      </h4>

      <p>{{ job.summary|safe }}</p>
      <ul>
        {% for bullet in job.bullets %}
        <li>{{ bullet }}</li>
        {% endfor %}
      </ul>
      {% if job.accomplishments %}
      <h5 class="mt-3 text-black font-semibold pb-1">Accomplishments:</h5>
      <ul>
        {% for item in job.accomplishments %}
        <li>{{ item }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>
  </div>
</div>
